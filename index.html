<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8" />
	<title>Terrain Generator</title>

	<link type="text/css" rel="stylesheet" href="terrain.css" />

	<script src="../glMatrixJS/glMatrix.js"></script>
	<script src="terrain.js"></script>

	<script id="heightmap-fs" type="x-shader/x-fragment">
		varying lowp vec4 vColor;

		void main(void) {
			gl_FragColor = vColor;
		}
	</script>

	<script id="heightmap-vs" type="x-shader/x-vertex">
		attribute vec3 aVertexPosition;

		uniform mat4 uMVMatrix;
		uniform mat4 uPMatrix;
		uniform float uMaxHeight;

		varying lowp vec4 vColor;
        
		void main(void) {
			gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
			vColor = vec4(vec3(0.0, uMaxHeight - aVertexPosition.y, 0.0) / uMaxHeight, 1.0);
		}
	</script>

	<script id="colorfull-fs" type="x-shader/x-fragment">
		varying lowp vec4 vColor;

		void main(void) {
			gl_FragColor = vColor;
		}
	</script>

	<script id="colorfull-vs" type="x-shader/x-vertex">
		attribute vec3 aVertexPosition;
		attribute vec4 aVertexColor;

		uniform mat4 uMVMatrix;
		uniform mat4 uPMatrix;

		varying lowp vec4 vColor;
        
		void main(void) {
			gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
			vColor = aVertexColor;
		}
	</script>
</head>
<body>
	<canvas id="glcanvas" width="640" height="640">
		Seu browser é ruim!
	</canvas>

	<div class="interface">
		<label>Position:</label>
		<label for="xPos" class="sub">X:</label>
		<input id="xPos" type="range" min="1" max="20" step="0.1" />
		<label for="yPos" class="sub">Y:</label>
		<input id="yPos" type="range" min="1" max="20" step="0.1" />
		<label for="zPos" class="sub">Z:</label>
		<input id="zPos" type="range" min="1" max="100" />
		<label for="fov">Ângulo:</label>
		<input id="fov" type="range" min="20" max="150" value="45" />
		<label for="scale">Escala:</label>
		<input id="scale" type="range" min="0.1" max="4" value="1.0" step="0.01" />

		<label>Model:</label>
		<select id="model">
			<option value="Open cube" selected="selected">Open cube</option>
			<option value="Diamond-square/Midpoint Displacement">Diamond-square</option>
		</select>
	</div>

	<div class="interface">
		<label>Rotation:</label>
		<label for="xRot" class="sub">X:</label>
		<input id="xRot" type="range" min="-180" max="180" />
		<label for="yRot" class="sub">Y:</label>
		<input id="yRot" type="range" min="-180" max="180" />
		<label for="zRot" class="sub">Z:</label>
		<input id="zRot" type="range" min="-180" max="180" />

		<label>Dimension:</label>
		<select id="dimension">
			<option value="4">4</option>
			<option value="8">8</option>
			<option value="16">16</option>
			<option value="32">32</option>
			<option value="64">64</option>
			<option value="128" selected="selected">128</option>
			<option value="256">256</option>
			<option value="512">512</option>
			<option value="1024">1024</option>
		</select>

		<label for="sqSize">Square size:</label>
		<input id="sqSize" type="range" min="0.01" max="2" step="0.01" value="0.1" />

		<label>Shading:</label>
		<select id="shaderSelect">
			<option value="colorfull" selected="selected">Random colors</option>
			<option value="heightmap">Grayscale</option>
		</select>
	</div>
</body>
</html>
